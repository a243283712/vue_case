<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8">
		<title>Vue</title>

		<script type="text/javascript" src="assets/js/vue.js"></script>
		<link rel="stylesheet" type="text/css" href="assets/css/style.css" />
	</head>

	<body>
	<!--计算-->
		<div id="box">
			<p>苹果</p>
			<p>购买数量：{{ n }}</p>
			<p>价格：{{ a }}</p>
			<p>合计：{{ heji }}</p>
			<p><button @click="add">增加</button></p>
			<p><button @click="close">减少</button></p>
			
		</div>

		<style>

		</style>

		<script>
			var vm = new Vue({
				el:'#box',
				data:{
					n:1,
					a:30,
					
				},
				methods:{
					add:function(){
						this.n ++
					},
					close:function(){
						this.n --
					}
				},
				computed:{
					heji:function(){
						return heji = this.n * this.a
					}
				}
				
				//内置watch
//				watch:{
//					n:function(newVal,oldVal){
//						console.log(newVal) //变化前后的两个值
//						console.log(oldVal)
//						
//						if(newVal < 1){
//							vm.n = 1;
//						}
//					}
//				}
			})
		
//			vm.$watch('n',function(newVal,oldVal){
//				//console.log(newVal) //变化前后的两个值
//				//console.log(oldVal)
//				
//				if(newVal < 1){
//					vm.n = 1;
//				}
//		
//			})
			
			vm.$watch('heji',function(newVal,oldVal){
				//console.log(newVal)
				if(newVal > 100){
					return vm.heji  = vm.heji - 5;
					console.log(newVal - 5)
				}
			})
		</script>
	</body>

</html>